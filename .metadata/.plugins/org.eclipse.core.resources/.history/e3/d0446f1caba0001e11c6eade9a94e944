<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
    pageEncoding="ISO-8859-1"%>
    <%@page import="java.util.List" %>
    <%@page import="Models.Users" %>
<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>User Repository</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.6.0.slim.min.js"
    integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin="anonymous"></script>
<link href="/DataTables/datatables.css">
 
<script src="/DataTables/datatables.js"></script>
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.25/css/jquery.dataTables.css">
<link rel="stylesheet" href="style.css">
</head>
<%List<Users>userList=(List<Users>)session.getAttribute("usersList"); %>
<body>

</body>
<div id="main">
<h1>Aministrator</h1>

	<form action="userRepository" method="GET">

	<input type="submit" value="Users List">
	</form>
	
	<form action="createUser" method="GET">
	<input type="submit" value="Create a new user">
	
	</form>
	
	<% if(userList!=null&&!userList.isEmpty() ){%>
	<h4>Users Repository</h4>
<div id="table-area">
                    <table id="table-stats" class="display table">
                        <h4 class="table-heading">
                   			General Stats
                        </h4>
                        <thead>
                            <tr>
                            	<th>Id</th>
                                <th>Username</th>
                                <th>First Name</th>
                                <th>Last Name</th>
                                <th>Email</th>
                                <th>Delete</th>
                                <th>Update</th>
                            </tr>
                        </thead>
                        <tbbody>
                        	<%for(Users user:userList){%>
                			<tr>
                			<th><%=user.getId() %></th>
                			<th><%=user.getUsername()%></th>
                			<th><%=user.getFirstName()%></th>
                			<th><%=user.getLastName()%></th>
                			<th><%=user.getEmail()%></th>
                			<th><a href="/rest-api/delete/<%=user.getId()%>">X</a></th>
                			<th><a href="/rest-api/updateUser/<%=user.getId()%>">update</a>
                			</tr>
                			<%}%>
                          
                        </tbody>

                    </table>
  </div>
  <%} %>
  </div>

  


<script type="text/javascript" src='table.js'></script>

 
</html>